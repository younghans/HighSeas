{
  "rules": {
    "players": {
      ".read": "auth != null",
      "$uid": {
        ".read": "auth != null",
        ".write": "auth != null && auth.uid === $uid",
        "gold": {
          ".read": "auth != null",
          ".write": false
        }
      }
    },
    "shipwrecks": {
      ".read": "auth != null",
      ".write": "auth != null"
    },
    "enemyShips": {
      ".read": "auth != null",
      ".write": "auth != null"
    },
    "combatEvents": {
      ".read": "auth != null",
      ".write": "auth != null",
      ".indexOn": "timestamp",
      "$eventId": {
        ".validate": "!data.exists() || newData.child('timestamp').val() >= (data.child('timestamp').val() - 30000)"
      }
    }
  }
} 